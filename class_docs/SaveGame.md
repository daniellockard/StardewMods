# SaveGame

**Summary:** Handles saving or loading game data.

## Public Members
- - public const string TempNameSuffix = "_STARDEWVALLEYSAVETMP";
- - public const string BackupNameSuffix = "_old";
- - public const bool PlatformSupportsBackups = true;
- - public static bool IsProcessing;
- - public static bool CancelToTitle;
- - public Farmer player;
- - public List<Farmer> farmhands;
- - public List<GameLocation> locations;
- - public string currentSeason;
- - public string samBandName;
- - public string elliottBookName;
- - public List<string> obsolete_mailbox;
- - public HashSet<string> broadcastedMail;
- - public HashSet<string> constructedBuildings;
- - public HashSet<string> worldStateIDs;
- - public int lostBooksFound = -1;
- - public int goldenWalnuts = -1;
- - public int goldenWalnutsFound;
- - public int miniShippingBinsObtained;
- - public bool mineShrineActivated;
- - public bool skullShrineActivated;
- - public bool goldenCoconutCracked;
- - public bool parrotPlatformsUnlocked;
- - public bool farmPerfect;
- - public List<string> foundBuriedNuts = new List<string>();
- - public List<string> checkedGarbage = new List<string>();
- - public int visitsUntilY1Guarantee = -1;
- - public Game1.MineChestType shuffleMineChests;
- - public int dayOfMonth;
- - public int year;
- - public int? countdownToWedding;
- - public double dailyLuck;
- - public ulong uniqueIDForThisGame;
- - public bool weddingToday;
- - public bool isRaining;
- - public bool isDebrisWeather;
- - public bool isLightning;
- - public bool isSnowing;
- - public bool shouldSpawnMonsters;
- - public bool hasApplied1_3_UpdateChanges;
- - public bool hasApplied1_4_UpdateChanges;
- - public List<long> weddingsToday;
- - public Stats obsolete_stats;
- - public static SaveGame loaded;
- - public float musicVolume;
- - public float soundVolume;
- - public Object dishOfTheDay;
- - public int highestPlayerLimit = -1;
- - public int moveBuildingPermissionMode;
- - public bool useLegacyRandom;
- - public bool allowChatCheats;
- - public bool hasDedicatedHost;
- - public SerializableDictionary<string, LocationWeather> locationWeather;
- - public SaveablePair<string, BuilderData>[] builders;
- - public SaveablePair<string, string>[] bannedUsers = LegacyShims.EmptyArray<SaveablePair<string, string>>();
- - public SaveablePair<string, string>[] bundleData = LegacyShims.EmptyArray<SaveablePair<string, string>>();
- - public SaveablePair<string, int>[] limitedNutDrops = LegacyShims.EmptyArray<SaveablePair<string, int>>();
- - public long latestID;
- - public Options options;
- - public SaveablePair<long, Options>[] splitscreenOptions = LegacyShims.EmptyArray<SaveablePair<long, Options>>();
- - public SerializableDictionary<string, string> CustomData = new SerializableDictionary<string, string>();
- - public SaveablePair<int, MineInfo>[] mine_permanentMineChanges;
- - public int mine_lowestLevelReached;
- - public string weatherForTomorrow;
- - public string whichFarm;
- - public int mine_lowestLevelReachedForOrder = -1;
- - public int skullCavesDifficulty;
- - public int minesDifficulty;
- - public int currentGemBirdIndex;
- - public NetLeaderboards junimoKartLeaderboards;
- - public List<SpecialOrder> specialOrders;
- - public List<SpecialOrder> availableSpecialOrders;
- - public List<string> completedSpecialOrders;
- - public List<string> acceptedSpecialOrderTypes = new List<string>();
- - public List<Item> returnedDonations;
- - public List<Item> junimoChest;
- - public Item[] shippingBin = LegacyShims.EmptyArray<Item>();
- - public SaveablePair<string, Item[]>[] globalInventories = LegacyShims.EmptyArray<SaveablePair<string, Item[]>>();
- - public List<string> collectedNutTracker = new List<string>();
- - public SaveablePair<FarmerPair, Friendship>[] farmerFriendships = LegacyShims.EmptyArray<SaveablePair<FarmerPair, Friendship>>();
- - public SaveablePair<int, long>[] cellarAssignments = LegacyShims.EmptyArray<SaveablePair<int, long>>();
- - public int timesFedRaccoons;
- - public int treasureTotemsUsed;
- - public int perfectionWaivers;
- - public int seasonOfCurrentRaccoonBundle;
- - public bool[] raccoonBundles = new bool[2];
- - public bool activatedGoldenParrot;
- - public int daysPlayedWhenLastRaccoonBundleWasFinished;
- - public int lastAppliedSaveFix;
- - public string gameVersion = Game1.version;
- - public string gameVersionLabel;
- - public static XmlSerializer serializer = new XmlSerializer(typeof(SaveGame), new Type[5]
- - public static XmlSerializer farmerSerializer = new XmlSerializer(typeof(Farmer), new Type[1] { typeof(Item) });
- - public static XmlSerializer locationSerializer = new XmlSerializer(typeof(GameLocation), new Type[3]
- - public static XmlSerializer descriptionElementSerializer = new XmlSerializer(typeof(DescriptionElement), new Type[2]
- - public static XmlSerializer legacyDescriptionElementSerializer = new XmlSerializer(typeof(SaveMigrator_1_6.LegacyDescriptionElement), new Type[3]
- - public bool HasSaveFix(SaveFixes fix)
- - public static IEnumerator<int> Save()
- - public static string FilterFileName(string fileName)
- - public static IEnumerator<int> getSaveEnumerator()
- - public static bool IsNewGameSaveNameCollision(string save_name)
- - public static void ensureFolderStructureExists()
- - public static void Load(string filename)
- - public static void LoadFarmType()
- - public static SaveGame TryReadSaveFile(string file, string fileNameSuffix, out string error)
- - public static SaveGame TryReadSaveFileWithFallback(string file, out string error, out bool autoRecovered)
- - public static IEnumerator<int> getLoadEnumerator(string file)
- - public static void loadDataToFarmer(Farmer target)
- - public static void loadDataToLocations(List<GameLocation> fromLocations)
- - public static void initializeCharacter(NPC c, GameLocation location)
- - public static void MigrateLostVillagers(Dictionary<string, Tuple<NPC, GameLocation>> lostVillagers)
- - public static Dictionary<string, string> GetFormerLocationNames()
- - public static Dictionary<string, string> GetFormerNpcNames(Func<string, CharacterData, bool> filter)

## Private Members
- - private static void LogVerbose(string message)
- - private static void LogDebug(string message)
- - private static void LogWarn(string message)
- - private static void LogError(string message, Exception exception = null)

## Protected Members
- *(None)*

## Internal Members
- *(None)*

## Other Members
- - static SaveGame FileDoesNotExist(out string outError)
