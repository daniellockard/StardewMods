# VolcanoDungeon

**Summary:** Class purpose not automatically determined. Review members for details.

## Public Members
- - public enum TileNeighbors
- - public const string MainTileSheetId = "dungeon";
- - public NetInt level = new NetInt();
- - public NetEvent1Field<Point, NetPoint> coolLavaEvent = new NetEvent1Field<Point, NetPoint>();
- - public static List<VolcanoDungeon> activeLevels = new List<VolcanoDungeon>();
- - public NetVector2Dictionary<bool, NetBool> cooledLavaTiles = new NetVector2Dictionary<bool, NetBool>();
- - public Dictionary<Vector2, Point> localCooledLavaTiles = new Dictionary<Vector2, Point>();
- - public HashSet<Point> dirtTiles = new HashSet<Point>();
- - public NetInt generationSeed = new NetInt();
- - public NetInt layoutIndex = new NetInt();
- - public Random generationRandom;
- - public int mapWidth;
- - public int mapHeight;
- - public const int WALL_HEIGHT = 4;
- - public Layer backLayer;
- - public Layer buildingsLayer;
- - public Layer frontLayer;
- - public Layer alwaysFrontLayer;
- - public Point? startPosition;
- - public Point? endPosition;
- - public const int LAYOUT_WIDTH = 64;
- - public const int LAYOUT_HEIGHT = 64;
- - public Texture2D mapBaseTilesheet;
- - public static List<Rectangle> setPieceAreas = new List<Rectangle>();
- - public Color[] pixelMap;
- - public int[] heightMap;
- - public Dictionary<int, List<Point>> possibleSwitchPositions = new Dictionary<int, List<Point>>();
- - public Dictionary<int, List<Point>> possibleGatePositions = new Dictionary<int, List<Point>>();
- - public NetList<DwarfGate, NetRef<DwarfGate>> dwarfGates = new NetList<DwarfGate, NetRef<DwarfGate>>();
- - public VolcanoDungeon()
- - public VolcanoDungeon(int level)
- - public override bool BlocksDamageLOS(int x, int y)
- - public override bool CanPlaceThisFurnitureHere(Furniture furniture)
- - public virtual void OnCoolLavaEvent(Point point)
- - public virtual void CoolLava(int x, int y, bool playSound = true)
- - public virtual void UpdateLavaNeighbor(int x, int y)
- - public virtual bool IsCooledLava(int x, int y)
- - public override bool answerDialogueAction(string questionAndAnswer, string[] questionParams)
- - public void UseVolcanoShortcut()
- - public virtual void GenerateContents(bool use_level_level_as_layout = false)
- - public bool isMushroomLevel()
- - public bool isMonsterLevel()
- - public override void checkForMusic(GameTime time)
- - public virtual void UpdateShortcutOut()
- - public virtual void UpdateBridge()
- - public override string GetLocationSpecificMusic()
- - public override bool CanRefillWateringCanOnTile(int tileX, int tileY)
- - public virtual void GenerateLevel(bool use_level_level_as_layout = false)
- - public virtual void GenerateDirtTiles()
- - public virtual void CreateEntrance(Point? position)
- - public virtual void ErodeInvalidDirtTiles()
- - public override void monsterDrop(Monster monster, int x, int y, Farmer who)
- - public Point? GetDirtNeighborTile(int tile_x, int tile_y)
- - public virtual void CreateDwarfGate(int gate_index, Point tile_position)
- - public virtual void AddPossibleSwitchLocation(int switch_index, int x, int y)
- - public virtual void AddPossibleGateLocation(int gate_index, int x, int y)
- - public bool isTileClearForMineObjects(Vector2 v, bool ignoreRuins = false)
- - public bool isTileOnClearAndSolidGround(Vector2 v)
- - public virtual void GenerateEntities()
- - public void tryToAddOreClumps()
- - public virtual void ApplySetPieces()
- - public virtual void SpawnChest(int tile_x, int tile_y)
- - public virtual void PopulateChest(IList<Item> items, Random chest_random, int chest_type)
- - public virtual void ApplyToColor(Color match, Action<int, int> action)
- - public override bool sinkDebris(Debris debris, Vector2 chunkTile, Vector2 chunkPosition)
- - public override bool performToolAction(Tool t, int tileX, int tileY)
- - public virtual void GenerateBlobs(Color match, int tile_x, int tile_y, bool fill_center = true, bool is_lava_pool = false)
- - public Dictionary<int, Point> GetBlobLookup()
- - public override bool isCollidingPosition(Rectangle position, Rectangle viewport, bool isFarmer, int damagesFarmer, bool glider, Character character, bool pathfinding, bool projectile = false, bool ignoreCharacterRequirement = false, bool skipCollisionEffects = false)
- - public Dictionary<int, Point> GetLavaBlobLookup()
- - public virtual void GenerateWalls(Color match, int source_x, int source_y, int wall_height = 4, int random_wall_variants = 1, bool start_in_wall = false, Action<int, int> on_insufficient_wall_height = null, bool use_corner_hack = false)
- - public int GetPixelClearance(int x, int y, int wall_height, Color match)
- - public override void UpdateWhenCurrentLocation(GameTime time)
- - public virtual void PlaceGroundTile(int x, int y)
- - public override void drawFloorDecorations(SpriteBatch b)
- - public override void drawWaterTile(SpriteBatch b, int x, int y)
- - public override void draw(SpriteBatch b)
- - public override void drawAboveAlwaysFrontLayer(SpriteBatch b)
- - public override void performTenMinuteUpdate(int timeOfDay)
- - public void spawnFlyingMonsterOffScreen()
- - public virtual void PlaceSingleWall(int x, int y)
- - public virtual void ApplyPixels(string layout_texture_name, int source_x = 0, int source_y = 0, int width = 64, int height = 64, int x_offset = 0, int y_offset = 0, bool flip_x = false)
- - public int GetHeight(int x, int y, int max_height)
- - public Color GetPixel(int x, int y, Color out_of_bounds_color)
- - public void SetPixelMap(int x, int y, Color color)
- - public int GetNeighborValue(int x, int y, Color matched_color, bool is_lava_pool = false)
- - public Color GetPixelColor(int width, int height, Color[] pixels, int x, int y)
- - public static int GetTileIndex(int x, int y)
- - public void SetTile(Layer layer, int x, int y, int index)
- - public int GetMaxRoomLayouts()
- - public static VolcanoDungeon GetLevel(string name, bool use_level_level_as_layout = false)
- - public static string GetLevelName(int level)
- - public static bool IsGeneratedLevel(string locationName)
- - public static bool IsGeneratedLevel(string locationName, out int level)
- - public static void UpdateLevels(GameTime time)
- - public static void UpdateLevels10Minutes(int timeOfDay)
- - public static void ClearAllLevels()
- - public override void OnRemoved()
- - public static void ForEach(Action<VolcanoDungeon> action)
- - public override bool ShouldExcludeFromNpcPathfinding()
- - public override bool checkAction(Location tileLocation, Rectangle viewport, Farmer who)
- - public override void performTouchAction(string[] action, Vector2 playerStandingPosition)

## Private Members
- - private const int coalIndexPlaceholder = 1095382;
- - private const string coalIndexPlaceholderString = "1095382";
- - private LocalizedContentManager mapContent;
- - private int lavaSoundsPlayedThisTick;
- - private float steamTimer = 6000f;
- - private void CreateExit(Point? position, bool draw_stairs = true)
- - private void adjustLevelChances(ref double stoneChance, ref double monsterChance, ref double itemChance, ref double gemStoneChance)
- - private Object createStone(int stone, Vector2 tile)
- - private int chooseStoneTypeIndexOnly(Vector2 tile)

## Protected Members
- - protected static Dictionary<int, Point> _blobIndexLookup = null;
- - protected static Dictionary<int, Point> _lavaBlobIndexLookup = null;
- - protected bool generated;
- - protected static Point shortcutOutPosition = new Point(29, 34);
- - protected NetBool shortcutOutUnlocked = new NetBool(value: false)
- - protected NetBool bridgeUnlocked = new NetBool(value: false)
- - protected bool _sawFlameSprite;
- - protected override void initNetFields()
- - protected override LocalizedContentManager getMapLoader()
- - protected override void resetLocalState()
- - protected override void resetSharedState()
- - protected override bool breakStone(string stoneId, int x, int y, Farmer who, Random r)

## Internal Members
- *(None)*

## Other Members
- *(None)*
