# GameLocation

**Summary:** Represents a place or area in the game world.

## Public Members
- - public delegate void afterQuestionBehavior(Farmer who, string whichAnswer);
- - public Rectangle Area;
- - public int Damage;
- - public bool IsBomb;
- - public void Read(BinaryReader reader)
- - public void Write(BinaryWriter writer)
- - public const int maxTriesForDebrisPlacement = 3;
- - public const string DefaultTileSheetId = "untitled tile sheet";
- - public const string OVERRIDE_MAP_TILESHEET_PREFIX = "zzzzz";
- - public const string PHONE_DIAL_SOUND = "telephone_buttonPush";
- - public const int PHONE_RING_DURATION = 4950;
- - public const string PHONE_PICKUP_SOUND = "bigSelect";
- - public const string PHONE_HANGUP_SOUND = "openBox";
- - public static readonly IList<string> OceanCrabPotFishTypes = new string[1] { "ocean" };
- - public static readonly IList<string> DefaultCrabPotFishTypes = new string[1] { "freshwater" };
- - public bool? isMusicTownMusic;
- - public string locationContextId;
- - public readonly NetCollection<Building> buildings = new NetCollection<Building>
- - public readonly NetLongDictionary<FarmAnimal, NetRef<FarmAnimal>> animals = new NetLongDictionary<FarmAnimal, NetRef<FarmAnimal>>();
- - public readonly NetInt piecesOfHay = new NetInt(0);
- - public readonly NetString parentLocationName = new NetString();
- - public Building ParentBuilding;
- - public List<KeyValuePair<Layer, int>> backgroundLayers = new List<KeyValuePair<Layer, int>>();
- - public List<KeyValuePair<Layer, int>> buildingLayers = new List<KeyValuePair<Layer, int>>();
- - public List<KeyValuePair<Layer, int>> frontLayers = new List<KeyValuePair<Layer, int>>();
- - public List<KeyValuePair<Layer, int>> alwaysFrontLayers = new List<KeyValuePair<Layer, int>>();
- - public NetBool isAlwaysActive = new NetBool();
- - public afterQuestionBehavior afterQuestion;
- - public Map map;
- - public readonly NetString mapPath = new NetString().Interpolated(interpolate: false, wait: false);
- - public readonly NetCollection<NPC> characters = new NetCollection<NPC>();
- - public readonly NetVector2Dictionary<Object, NetRef<Object>> netObjects = new NetVector2Dictionary<Object, NetRef<Object>>();
- - public readonly OverlayDictionary<Vector2, Object> overlayObjects = new OverlayDictionary<Vector2, Object>(tilePositionComparer);
- - public readonly OverlaidDictionary objects;
- - public NetList<MapSeat, NetRef<MapSeat>> mapSeats = new NetList<MapSeat, NetRef<MapSeat>>();
- - public TemporaryAnimatedSpriteList temporarySprites = new TemporaryAnimatedSpriteList();
- - public List<Action> postFarmEventOvernightActions = new List<Action>();
- - public readonly NetObjectList<Warp> warps = new NetObjectList<Warp>();
- - public readonly NetPointDictionary<string, NetString> doors = new NetPointDictionary<string, NetString>();
- - public readonly InteriorDoorDictionary interiorDoors;
- - public readonly FarmerCollection farmers;
- - public readonly NetCollection<Projectile> projectiles = new NetCollection<Projectile>();
- - public readonly NetCollection<ResourceClump> resourceClumps = new NetCollection<ResourceClump>();
- - public readonly NetCollection<LargeTerrainFeature> largeTerrainFeatures = new NetCollection<LargeTerrainFeature>();
- - public List<TerrainFeature> _activeTerrainFeatures = new List<TerrainFeature>();
- - public List<Critter> critters;
- - public readonly NetVector2Dictionary<TerrainFeature, NetRef<TerrainFeature>> terrainFeatures = new NetVector2Dictionary<TerrainFeature, NetRef<TerrainFeature>>();
- - public readonly NetCollection<Debris> debris = new NetCollection<Debris>();
- - public readonly NetPoint fishSplashPoint = new NetPoint(Point.Zero);
- - public readonly NetString fishFrenzyFish = new NetString();
- - public readonly NetPoint orePanPoint = new NetPoint(Point.Zero);
- - public TemporaryAnimatedSprite fishSplashAnimation;
- - public TemporaryAnimatedSprite orePanAnimation;
- - public WaterTiles waterTiles;
- - public readonly NetString uniqueName = new NetString();
- - public readonly NetString name = new NetString();
- - public readonly NetColor waterColor = new NetColor(Color.White * 0.33f);
- - public string lastQuestionKey;
- - public Vector2 lastTouchActionLocation = Vector2.Zero;
- - public readonly NetBool isFarm = new NetBool();
- - public readonly NetBool isOutdoors = new NetBool();
- - public readonly NetBool isGreenhouse = new NetBool();
- - public readonly NetBool isStructure = new NetBool();
- - public readonly NetBool ignoreDebrisWeather = new NetBool();
- - public readonly NetBool ignoreOutdoorLighting = new NetBool();
- - public readonly NetBool ignoreLights = new NetBool();
- - public readonly NetBool treatAsOutdoors = new NetBool();
- - public bool wasUpdated;
- - public int numberOfSpawnedObjectsOnMap;
- - public bool showDropboxIndicator;
- - public Vector2 dropBoxIndicatorLocation;
- - public readonly NetInt miniJukeboxCount = new NetInt();
- - public readonly NetString miniJukeboxTrack = new NetString("");
- - public readonly NetString randomMiniJukeboxTrack = new NetString();
- - public Event currentEvent;
- - public Object actionObjectForQuestionDialogue;
- - public int waterAnimationIndex;
- - public int waterAnimationTimer;
- - public bool waterTileFlip;
- - public bool forceViewportPlayerFollow;
- - public bool forceLoadPathLayerLights;
- - public float waterPosition;
- - public readonly NetAudio netAudio;
- - public readonly NetStringDictionary<LightSource, NetRef<LightSource>> sharedLights = new NetStringDictionary<LightSource, NetRef<LightSource>>();
- - public NetVector2HashSet lightGlows = new NetVector2HashSet();
- - public static readonly int JOURNAL_INDEX = 1000;
- - public static readonly float FIRST_SECRET_NOTE_CHANCE = 0.8f;
- - public static readonly float LAST_SECRET_NOTE_CHANCE = 0.12f;
- - public static readonly int NECKLACE_SECRET_NOTE_INDEX = 25;
- - public static readonly string CAROLINES_NECKLACE_ITEM_QID = "(O)191";
- - public static readonly string CAROLINES_NECKLACE_MAIL = "carolinesNecklace";
- - public static TilePositionComparer tilePositionComparer = new TilePositionComparer();
- - public bool wasInhabited;
- - public readonly NetCollection<Furniture> furniture = new NetCollection<Furniture>
- - public static bool PlayedNewLocationContextMusic = false;
- - public static bool _PagedResponseAddCancel;
- - public Dictionary<Vector2, float> lightGlowLayerCache = new Dictionary<Vector2, float>();
- - public NetLongDictionary<FarmAnimal, NetRef<FarmAnimal>> Animals => animals;
- - public NetFields NetFields { get; }
- - public NetRoot<GameLocation> Root => NetFields.Root as NetRoot<GameLocation>;
- - public int ExtraMillisecondsPerInGameMinute { get; set; }
- - public string DisplayName
- - public string NameOrUniqueName
- - public bool IsTemporary { get; protected set; }
- - public float LightLevel
- - public Map Map
- - public OverlaidDictionary Objects => objects;
- - public TemporaryAnimatedSpriteList TemporarySprites => temporarySprites;
- - public string Name => name.Value;
- - public bool IsFarm
- - public bool IsOutdoors
- - public bool IsGreenhouse
- - public ModDataDictionary modData { get; } = new ModDataDictionary();
- - public ModDataDictionary modDataForSerialization
- - public virtual string GetDisplayName()
- - public virtual bool SeedsIgnoreSeasonsHere()
- - public virtual bool CanPlantSeedsHere(string itemId, int tileX, int tileY, bool isGardenPot, out string deniedMessage)
- - public virtual bool CanPlantTreesHere(string itemId, int tileX, int tileY, out string deniedMessage)
- - public bool CheckItemPlantRules(string itemId, bool isGardenPot, bool defaultAllowed, out string deniedMessage)
- - public virtual void InvalidateCachedMultiplayerMap(Dictionary<string, CachedMultiplayerMap> cached_data)
- - public virtual void MakeMapModifications(bool force = false)
- - public virtual bool ApplyCachedMultiplayerMap(Dictionary<string, CachedMultiplayerMap> cached_data, string requested_map_path)
- - public virtual void StoreCachedMultiplayerMap(Dictionary<string, CachedMultiplayerMap> cached_data)
- - public virtual void TransferDataFromSavedLocation(GameLocation l)
- - public virtual void OnParentBuildingUpgraded(Building building)
- - public virtual void OnRemoved()
- - public virtual void OnResourceClumpAdded(ResourceClump resourceClump)
- - public virtual void OnResourceClumpRemoved(ResourceClump resourceClump)
- - public virtual void OnTerrainFeatureAdded(TerrainFeature feature, Vector2 location)
- - public virtual void OnTerrainFeatureRemoved(TerrainFeature feature)
- - public virtual void UpdateTerrainFeatureUpdateSubscription(TerrainFeature feature)
- - public int GetSeasonIndex()
- - public Season GetSeason()
- - public string GetSeasonKey()
- - public bool IsSpringHere()
- - public bool IsSummerHere()
- - public bool IsFallHere()
- - public bool IsWinterHere()
- - public LocationWeather GetWeather()
- - public bool IsRainingHere()
- - public bool IsGreenRainingHere()
- - public bool IsLightningHere()
- - public bool IsSnowingHere()
- - public bool IsDebrisWeatherHere()
- - public static bool IsTemporaryName(string name)
- - public GameLocation()
- - public GameLocation(string mapPath, string name)
- - public virtual void AddDefaultBuildings(bool load = true)
- - public virtual void AddDefaultBuilding(string id, Vector2 tile, bool load = true)
- - public void playSound(string audioName, Vector2? position = null, int? pitch = null, SoundContext context = SoundContext.Default)
- - public void localSound(string audioName, Vector2? position = null, int? pitch = null, SoundContext context = SoundContext.Default)
- - public void cleanUpTileForMapOverride(Point tile)
- - public void cleanUpTileForMapOverride(Point tile, string exceptItemId)
- - public void ApplyMapOverride(Map override_map, string override_key, Rectangle? source_rect = null, Rectangle? dest_rect = null, Action<Point> perTileCustomAction = null)
- - public static string GetAddedMapOverrideTilesheetId(string overrideKey, string tilesheetId)
- - public virtual bool RunLocationSpecificEventCommand(Event current_event, string command_string, bool first_run, params string[] args)
- - public bool hasActiveFireplace()
- - public void ApplyMapOverride(string map_name, Rectangle? source_rect = null, Rectangle? destination_rect = null)
- - public void ApplyMapOverride(string map_name, string override_key_name, Rectangle? source_rect = null, Rectangle? destination_rect = null)
- - public virtual void UpdateMapSeats()
- - public virtual void SortLayers()
- - public virtual void OnMapLoad(Map map)
- - public void loadMap(string mapPath, bool force_reload = false)
- - public virtual void HandleGrassGrowth(int dayOfMonth)
- - public void reloadMap()
- - public virtual bool canSlimeMateHere()
- - public virtual bool canSlimeHatchHere()
- - public void addCharacter(NPC character)
- - public static Rectangle getSourceRectForObject(int tileIndex)
- - public Warp isCollidingWithWarp(Rectangle position, Character character)
- - public Warp isCollidingWithWarpOrDoor(Rectangle position, Character character = null)
- - public virtual Warp isCollidingWithDoors(Rectangle position, Character character = null)
- - public virtual Warp getWarpFromDoor(Point door, Character character = null)
- - public Warp GetFirstPlayerWarp()
- - public void addResourceClumpAndRemoveUnderlyingTerrain(int resourceClumpIndex, int width, int height, Vector2 tile)
- - public virtual bool canFishHere()
- - public virtual bool CanWakeUpHere(Farmer who, Point? tile = null)
- - public virtual bool CanRefillWateringCanOnTile(int tileX, int tileY)
- - public virtual bool isTileBuildingFishable(int tileX, int tileY)
- - public virtual bool isTileFishable(int tileX, int tileY)
- - public bool isFarmerCollidingWithAnyCharacter()
- - public bool isCollidingPosition(Rectangle position, Rectangle viewport, Character character)
- - public virtual bool isCollidingPosition(Rectangle position, Rectangle viewport, bool isFarmer, int damagesFarmer, bool glider, Character character)
- - public Furniture GetFurnitureAt(Vector2 tile_position)
- - public virtual Rectangle GetBuildableRectangle()
- - public virtual bool IsBuildableLocation()
- - public virtual bool IsOutOfBounds(Rectangle pixelPosition)
- - public virtual bool isCollidingPosition(Rectangle position, Rectangle viewport, bool isFarmer, int damagesFarmer, bool glider, Character character, bool pathfinding, bool projectile = false, bool ignoreCharacterRequirement = false, bool skipCollisionEffects = false)
- - public bool isTilePassable(Vector2 tileLocation)
- - public bool isTilePassable(Location tileLocation, Rectangle viewport)
- - public bool isPointPassable(Location location, Rectangle viewport)
- - public bool isTilePassable(Rectangle nextPosition, Rectangle viewport)
- - public bool isTileOnMap(Vector2 position)
- - public bool isTileOnMap(Point tile)
- - public bool isTileOnMap(int x, int y)
- - public int numberOfObjectsWithName(string name)
- - public virtual Point getWarpPointTo(string location, Character character = null)
- - public Point getWarpPointTarget(Point warpPointLocation, Character character = null)
- - public virtual bool HasLocationOverrideDialogue(NPC character)
- - public virtual string GetLocationOverrideDialogue(NPC character)
- - public NPC doesPositionCollideWithCharacter(Rectangle r, bool ignoreMonsters = false)
- - public void switchOutNightTiles()
- - public string GetMorningSong()
- - public static void HandleMusicChange(GameLocation oldLocation, GameLocation newLocation)
- - public virtual void checkForMusic(GameTime time)
- - public virtual string GetLocationSpecificMusic()
- - public NPC isCollidingWithCharacter(Rectangle box)
- - public virtual void drawAboveAlwaysFrontLayer(SpriteBatch b)
- - public bool moveContents(int oldX, int oldY, int newX, int newY, string unlessItemId)
- - public static void RegisterTouchAction(string key, Action<GameLocation, string[], Farmer, Vector2> action)
- - public static void RegisterTileAction(string key, Func<GameLocation, string[], Farmer, Point, bool> action)
- - public virtual bool IgnoreTouchActions()
- - public virtual void performTouchAction(string fullActionString, Vector2 playerStandingPosition)
- - public virtual void performTouchAction(string[] action, Vector2 playerStandingPosition)
- - public virtual void updateMap()
- - public virtual void updateLayout()
- - public LargeTerrainFeature getLargeTerrainFeatureAt(int tileX, int tileY)
- - public virtual void UpdateWhenCurrentLocation(GameTime time)
- - public void updateWater(GameTime time)
- - public NPC getCharacterFromName(string name)
- - public Projectile getProjectileFromID(int uniqueID)
- - public virtual void updateEvenIfFarmerIsntHere(GameTime time, bool ignoreWasUpdatedFlush = false)
- - public GameLocation GetParentLocation()
- - public GameLocation GetRootLocation()
- - public Response[] createYesNoResponses()
- - public virtual void customQuestCompleteBehavior(string questId)
- - public void createQuestionDialogue(string question, Response[] answerChoices, string dialogKey)
- - public void createQuestionDialogueWithCustomWidth(string question, Response[] answerChoices, string dialogKey)
- - public void createQuestionDialogue(string question, Response[] answerChoices, afterQuestionBehavior afterDialogueBehavior, NPC speaker = null)
- - public void createQuestionDialogue(string question, Response[] answerChoices, string dialogKey, Object actionObject)
- - public virtual void monsterDrop(Monster monster, int x, int y, Farmer who)
- - public virtual bool HasUnlockedAreaSecretNotes(Farmer who)
- - public bool damageMonster(Rectangle areaOfEffect, int minDamage, int maxDamage, bool isBomb, Farmer who, bool isProjectile = false)
- - public virtual bool BlocksDamageLOS(int x, int y)
- - public bool damageMonster(Rectangle areaOfEffect, int minDamage, int maxDamage, bool isBomb, float knockBackModifier, int addedPrecision, float critChance, float critMultiplier, bool triggerMonsterInvincibleTimer, Farmer who, bool isProjectile = false)
- - public void growWeedGrass(int iterations)
- - public bool tryPlaceObject(Vector2 tile, Object o)
- - public void removeDamageDebris(Monster monster)
- - public void spawnWeeds(bool weedsOnly)
- - public virtual void OnMiniJukeboxAdded()
- - public virtual void OnMiniJukeboxRemoved()
- - public virtual void UpdateMiniJukebox()
- - public virtual bool IsMiniJukeboxPlaying()
- - public virtual void DayUpdate(int dayOfMonth)
- - public virtual double GetDirtDecayChance(Vector2 tile)
- - public void RespawnStumpsFromMapProperty()
- - public void addLightGlows()
- - public NPC isCharacterAtTile(Vector2 tileLocation)
- - public void ResetCharacterDialogues()
- - public string getMapProperty(string propertyName)
- - public bool TryGetMapProperty(string propertyName, out string propertyValue)
- - public string[] GetMapPropertySplitBySpaces(string propertyName)
- - public bool TryGetMapPropertyAs(string key, out bool parsed, bool required = false)
- - public bool TryGetMapPropertyAs(string key, out double parsed, bool required = false)
- - public bool TryGetMapPropertyAs(string key, out Point parsed, bool required = false)
- - public bool TryGetMapPropertyAs(string key, out Vector2 parsed, bool required = false)
- - public bool TryGetMapPropertyAs(string key, out Rectangle parsed, bool required = false)
- - public bool HasMapPropertyWithValue(string propertyName)
- - public virtual void tryToAddCritters(bool onlyIfOnScreen = false)
- - public void addClouds(double chance, bool onlyIfOnScreen = false)
- - public void addOwl()
- - public void setFireplace(bool on, int tileLocationX, int tileLocationY, bool playSound = true, int xOffset = 0, int yOffset = 0)
- - public void addWoodpecker(double chance, bool onlyIfOnScreen = false)
- - public void addSquirrels(double chance, bool onlyIfOnScreen = false)
- - public void addBunnies(double chance, bool onlyIfOnScreen = false)
- - public void addOpossums(double chance, bool onlyIfOnScreen = false)
- - public void instantiateCrittersList()
- - public void addCritter(Critter c)
- - public void addButterflies(double chance, bool onlyIfOnScreen = false)
- - public void tryAddPrismaticButterfly()
- - public void addBirdies(double chance, bool onlyIfOnScreen = false)
- - public void addJumperFrog(Vector2 tileLocation)
- - public void addFrog()
- - public void checkForSpecialCharacterIconAtThisTile(Vector2 tileLocation)
- - public bool isAreaClear(Rectangle area)
- - public void performGreenRainUpdate()
- - public void performDayAfterGreenRainUpdate()
- - public Vector2 getRandomTile(Random r = null)
- - public void setUpLocationSpecificFlair()
- - public virtual void hostSetup()
- - public virtual void ResetForEvent(Event ev)
- - public virtual bool HasFarmerWatchingBroadcastEventReturningHere()
- - public void resetForPlayerEntry()
- - public void SelectRandomMiniJukeboxTrack()
- - public LightSource getLightSource([NotNullWhen(true)] string identifier)
- - public bool hasLightSource([NotNullWhen(true)] string identifier)
- - public void removeLightSource([NotNullWhen(true)] string identifier)
- - public void repositionLightSource([NotNullWhen(true)] string identifier, Vector2 position)
- - public virtual bool CanSpawnCharacterHere(Vector2 tileLocation)
- - public virtual bool CanItemBePlacedHere(Vector2 tile, bool itemIsPassable = false, CollisionMask collisionMask = CollisionMask.All, CollisionMask ignorePassables = ~CollisionMask.Objects, bool useFarmerTile = false, bool ignorePassablesExactly = false)
- - public virtual bool IsTileBlockedBy(Vector2 tile, CollisionMask collisionMask = CollisionMask.All, CollisionMask ignorePassables = CollisionMask.None, bool useFarmerTile = false)
- - public virtual bool IsTileOccupiedBy(Vector2 tile, CollisionMask collisionMask = CollisionMask.All, CollisionMask ignorePassables = CollisionMask.None, bool useFarmerTile = false)
- - public virtual bool IsLocationSpecificOccupantOnTile(Vector2 tileLocation)
- - public virtual bool IsLocationSpecificPlacementRestriction(Vector2 tileLocation)
- - public Farmer isTileOccupiedByFarmer(Vector2 tileLocation)
- - public HoeDirt GetHoeDirtAtTile(Vector2 tile)
- - public bool isTileHoeDirt(Vector2 tile)
- - public bool isTileLocationOpen(Location location)
- - public bool isTileLocationOpen(Vector2 location)
- - public virtual bool CanPlaceThisFurnitureHere(Furniture furniture)
- - public virtual bool isTilePlaceable(Vector2 v, bool itemIsPassable = false)
- - public void playTerrainSound(Vector2 tileLocation, Character who = null, bool showTerrainDisturbAnimation = true)
- - public bool checkTileIndexAction(int tileIndex)
- - public bool checkForTerrainFeaturesAndObjectsButDestroyNonPlayerItems(int x, int y)
- - public virtual bool checkAction(Location tileLocation, Rectangle viewport, Farmer who)
- - public int GetHarvestSpawnedObjectQuality(Farmer who, bool isForage, Vector2 tile, Random random = null)
- - public void OnHarvestedForage(Farmer who, Object forage)
- - public virtual bool CanFreePlaceFurniture()
- - public virtual bool LowPriorityLeftClick(int x, int y, Farmer who)
- - public virtual List<Rectangle> getWalls()
- - public virtual bool leftClick(int x, int y, Farmer who)
- - public virtual bool shouldShadowBeDrawnAboveBuildingsLayer(Vector2 p)
- - public virtual Chest GetFridge(bool onlyUnlocked = true)
- - public virtual Point? GetFridgePosition()
- - public void ActivateKitchen()
- - public void openDoor(Location tileLocation, bool playSound)
- - public void doStarpoint(string which)
- - public virtual string FormatCompletionLine(Func<Farmer, float> check)
- - public virtual string FormatCompletionLine(Func<Farmer, bool> check, string true_value, string false_value)
- - public virtual void ShowQiCat()
- - public virtual bool CheckGarbage(string id, Vector2 tile, Farmer who, bool playAnimations = true, bool reactNpcs = true, Action<string> logError = null)
- - public virtual bool TryGetGarbageItem(string id, double dailyLuck, out Item item, out GarbageCanItemData selected, out Random garbageRandom, Action<string> logError = null)
- - public virtual bool performAction(string fullActionString, Farmer who, Location tileLocation)
- - public virtual bool ShouldIgnoreAction(string[] action, Farmer who, Location tileLocation)
- - public virtual void ShowLockedDoorMessage(string[] action)
- - public virtual bool performAction(string[] action, Farmer who, Location tileLocation)
- - public void showPrairieKingMenu()
- - public void ShowMineCartMenu(string networkId, string excludeDestinationId)
- - public void MinecartWarp(MinecartDestinationData destination)
- - public void lockedDoorWarp(Point tile, string locationName, int openTime, int closeTime, string npcName, int minFriendship)
- - public void playElliottPiano(int key)
- - public void readNote(int which)
- - public void mailbox()
- - public void farmerFile()
- - public int getTotalCrops()
- - public int getTotalCropsReadyForHarvest()
- - public int getTotalUnwateredCrops()
- - public int? getTotalGreenhouseCropsReadyForHarvest()
- - public int getTotalOpenHoeDirt()
- - public int getTotalForageItems()
- - public int getNumberOfMachinesReadyForHarvest()
- - public static void openCraftingMenu()
- - public virtual bool HandleBuyAction(string which)
- - public virtual bool isObjectAt(int x, int y)
- - public virtual bool isObjectAtTile(int tileX, int tileY)
- - public virtual Object getObjectAt(int x, int y, bool ignorePassables = false)
- - public Object getObjectAtTile(int x, int y, bool ignorePassables = false)
- - public virtual bool saloon(Location tileLocation)
- - public virtual bool carpenters(Location tileLocation)
- - public virtual bool blacksmith(Location tileLocation)
- - public virtual bool animalShop(Location tileLocation)
- - public void removeTile(Location tileLocation, string layer)
- - public void removeTile(int x, int y, string layer)
- - public void characterTrampleTile(Vector2 tile)
- - public bool characterDestroyObjectWithinRectangle(Rectangle rect, bool showDestroyedObject)
- - public Object removeObject(Vector2 location, bool showDestroyedObject)
- - public void removeTileProperty(int tileX, int tileY, string layer, string key)
- - public void setTileProperty(int tileX, int tileY, string layer, string key, string value)
- - public void setObjectAt(float x, float y, Object o)
- - public virtual void cleanupBeforeSave()
- - public virtual void cleanupForVacancy()
- - public virtual void cleanupBeforePlayerExit()
- - public static string getWeedForSeason(Random r, Season season)
- - public virtual void ShowPagedResponses(string prompt, List<KeyValuePair<string, string>> responses, Action<string> on_response, bool auto_select_single_choice = false, bool addCancel = true, int itemsPerPage = 5)
- - public virtual void ShowConstructOptions(string builder, int page = -1)
- - public void ShowAnimalShopMenu(Action<PurchaseAnimalsMenu> onMenuOpened = null)
- - public virtual bool answerDialogueAction(string questionAndAnswer, string[] questionParams)
- - public void playShopPhoneNumberSounds(string whichShop)
- - public virtual bool answerDialogue(Response answer)
- - public static bool AreStoresClosedForFestival()
- - public static void RemoveProfession(int profession)
- - public static bool canRespec(int skill_index)
- - public void setObject(Vector2 v, Object o)
- - public virtual bool catchOceanCrabPotFishFromThisSpot(int x, int y)
- - public void destroyObject(Vector2 tileLocation, Farmer who)
- - public void destroyObject(Vector2 tileLocation, bool hardDestroy, Farmer who)
- - public void addOneTimeGiftBox(Item i, int x, int y, int whichGiftBox = 2)
- - public virtual string GetLocationContextId()
- - public virtual LocationContextData GetLocationContext()
- - public bool InDesertContext()
- - public bool InIslandContext()
- - public bool InValleyContext()
- - public virtual bool sinkDebris(Debris debris, Vector2 chunkTile, Vector2 chunkPosition)
- - public virtual bool doesTileSinkDebris(int xTile, int yTile, Debris.DebrisType type)
- - public virtual bool doesEitherTileOrTileIndexPropertyEqual(int xTile, int yTile, string propertyName, string layerName, string propertyValue)
- - public virtual bool IsNoSpawnTile(Vector2 tile, string type = "All", bool ignoreTileSheetProperties = false)
- - public virtual string doesTileHaveProperty(int xTile, int yTile, string propertyName, string layerName, bool ignoreTileSheetProperties = false)
- - public virtual string doesTileHavePropertyNoNull(int xTile, int yTile, string propertyName, string layerName)
- - public string[] GetTilePropertySplitBySpaces(string propertyName, string layerId, int tileX, int tileY)
- - public bool isWaterTile(int xTile, int yTile)
- - public bool isOpenWater(int xTile, int yTile)
- - public bool isCropAtTile(int tileX, int tileY)
- - public virtual bool dropObject(Object obj, Vector2 dropLocation, Rectangle viewport, bool initialPlacement, Farmer who = null)
- - public void explode(Vector2 tileLocation, int radius, Farmer who, bool damageFarmers = true, int damage_amount = -1, bool destroyObjects = true)
- - public virtual void explosionAt(float x, float y)
- - public void removeTemporarySpritesWithID(int id)
- - public void removeTemporarySpritesWithIDLocal(int id)
- - public bool makeHoeDirt(Vector2 tileLocation, bool ignoreChecks = false)
- - public int numberOfObjectsOfType(string itemId, bool bigCraftable)
- - public virtual void timeUpdate(int timeElapsed)
- - public void passTimeForObjects(int timeElapsed)
- - public virtual void performTenMinuteUpdate(int timeOfDay)
- - public virtual bool performOrePanTenMinuteUpdate(Random r)
- - public virtual IList<string> GetCrabPotFishForTile(Vector2 tile)
- - public virtual bool TryGetFishAreaForTile(Vector2 tile, out string id, out FishAreaData data)
- - public virtual string GetFishingAreaDisplayName(string id)
- - public virtual Item getFish(float millisecondsAfterNibble, string bait, int waterDepth, Farmer who, double baitPotency, Vector2 bobberTile, string locationName = null)
- - public static Item GetFishFromLocationData(string locationName, Vector2 bobberTile, int waterDepth, Farmer player, bool isTutorialCatch, bool isInherited, GameLocation location = null)
- - public virtual bool isActionableTile(int xTile, int yTile, Farmer who)
- - public Item tryGetRandomArtifactFromThisLocation(Farmer who, Random r, double chanceMultipler = 1.0)
- - public virtual void digUpArtifactSpot(int xLocation, int yLocation, Farmer who)
- - public LocationData GetData()
- - public static LocationData GetData(string name)
- - public virtual bool ShouldExcludeFromNpcPathfinding()
- - public virtual string checkForBuriedItem(int xLocation, int yLocation, bool explosion, bool detectOnly, Farmer who)
- - public virtual bool AllowMapModificationsInResetState()
- - public void removeMapTile(int tileX, int tileY, string layer)
- - public StaticTile setMapTile(int tileX, int tileY, int index, string layer, string tileSheetId, string action = null, bool copyProperties = true)
- - public AnimatedTile setAnimatedMapTile(int tileX, int tileY, int[] animationTileIndexes, long interval, string layer, string tileSheetId, string action = null, bool copyProperties = true)
- - public virtual void shiftContents(int dx, int dy, Func<Vector2, object, bool> where = null)
- - public void moveFurniture(int oldX, int oldY, int newX, int newY)
- - public bool hasTileAt(int x, int y, string layer, string tilesheetId = null)
- - public bool hasTileAt(Location tile, string layer, string tilesheetId = null)
- - public bool hasTileAt(Point tile, string layer, string tilesheetId = null)
- - public int getTileIndexAt(Location p, string layer, string tilesheetId = null)
- - public int getTileIndexAt(Point p, string layer, string tilesheetId = null)
- - public int getTileIndexAt(int x, int y, string layer, string tilesheetId = null)
- - public string getTileSheetIDAt(int x, int y, string layer)
- - public virtual void OnBuildingConstructed(Building building, Farmer who)
- - public virtual void OnBuildingMoved(Building building)
- - public virtual void OnBuildingDemolished(string type, Guid id)
- - public virtual void OnDayStarted()
- - public void OnStoneDestroyed(string stoneId, int x, int y, Farmer who)
- - public bool isBehindBush(Vector2 Tile)
- - public bool isBehindTree(Vector2 Tile)
- - public virtual void spawnObjects()
- - public void spawnWeedsAndStones(int numDebris = -1, bool weedsOnly = false, bool spawnFromOldWeeds = true)
- - public virtual void removeEverythingExceptCharactersFromThisTile(int x, int y)
- - public virtual void removeObjectsAndSpawned(int x, int y, int width, int height)
- - public virtual string getFootstepSoundReplacement(string footstep)
- - public virtual void removeEverythingFromThisTile(int x, int y)
- - public virtual bool TryGetLocationEvents(out string assetName, out Dictionary<string, string> events)
- - public static bool IsValidLocationEvent(string key, string eventScript)
- - public virtual void checkForEvents()
- - public Event findEventById(string id, Farmer farmerActor = null)
- - public virtual void startEvent(Event evt)
- - public virtual void drawBackground(SpriteBatch b)
- - public virtual void drawWater(SpriteBatch b)
- - public virtual void drawWaterTile(SpriteBatch b, int x, int y)
- - public void drawWaterTile(SpriteBatch b, int x, int y, Color color)
- - public virtual void drawFloorDecorations(SpriteBatch b)
- - public TemporaryAnimatedSprite getTemporarySpriteByID(int id)
- - public virtual bool shouldHideCharacters()
- - public virtual void DrawFarmerUsernames(SpriteBatch b)
- - public virtual void draw(SpriteBatch b)
- - public virtual void drawOverlays(SpriteBatch b)
- - public virtual void drawAboveFrontLayer(SpriteBatch b)
- - public virtual void drawLightGlows(SpriteBatch b)
- - public Object tryToCreateUnseenSecretNote(Farmer who)
- - public virtual bool performToolAction(Tool t, int tileX, int tileY)
- - public virtual void seasonUpdate(bool onLoad = false)
- - public List<FarmAnimal> getAllFarmAnimals()
- - public virtual int GetHayCapacity()
- - public bool CheckPetAnimal(Vector2 position, Farmer who)
- - public bool CheckPetAnimal(Rectangle rect, Farmer who)
- - public bool CheckInspectAnimal(Vector2 position, Farmer who)
- - public bool CheckInspectAnimal(Rectangle rect, Farmer who)
- - public virtual void updateSeasonalTileSheets(Map map = null)
- - public static string GetSeasonalTilesheetName(string sheet_path, string current_season)
- - public virtual string checkEventPrecondition(string precondition)
- - public virtual string checkEventPrecondition(string precondition, bool check_seen)
- - public static Object GetHayFromAnySilo(GameLocation currentLocation)
- - public static int StoreHayInAnySilo(int count, GameLocation currentLocation)
- - public int tryToAddHay(int num)
- - public Building getBuildingAt(Vector2 tile)
- - public Building getBuildingByType(string type)
- - public Building getBuildingById(Guid id)
- - public Building getBuildingByName(string name)
- - public bool destroyStructure(Vector2 tile)
- - public bool destroyStructure(Building building)
- - public bool buildStructure(Building building, Vector2 tileLocation, Farmer who, bool skipSafetyChecks = false)
- - public bool buildStructure(string typeId, BuildingData data, Vector2 tileLocation, Farmer who, out Building constructed, bool magicalConstruction = false, bool skipSafetyChecks = false)
- - public bool buildStructure(string typeId, Vector2 tileLocation, Farmer who, out Building constructed, bool magicalConstruction = false, bool skipSafetyChecks = false)
- - public bool isBuildingConstructed(string name)
- - public bool HasMinBuildings(string buildingType, int minCount)
- - public bool HasMinBuildings(Func<Building, bool> match, int minCount)
- - public int getNumberBuildingsConstructed(bool includeUnderConstruction = false)
- - public int getNumberBuildingsConstructed(string name, bool includeUnderConstruction = false)
- - public bool isThereABuildingUnderConstruction()
- - public IEnumerable<GameLocation> GetInstancedBuildingInteriors()
- - public void ForEachInstancedInterior(Func<GameLocation, bool> action)
- - public void ForEachDirt(Func<HoeDirt, bool> action, bool includeGardenPots = true)
- - public bool isPath(Vector2 tileLocation)
- - public bool isBuildable(Vector2 tileLocation, bool onlyNeedsToBePassable = false)
- - public virtual void pokeTileForConstruction(Vector2 tile)
- - public virtual void updateWarps()
- - public void loadWeeds()
- - public bool CanLoadPathObjectHere(Vector2 tile)
- - public void loadObjects()
- - public void loadPathsLayerObjectsInArea(int startingX, int startingY, int width, int height)
- - public bool TryGetTreeIdForTile(Tile tile, out string treeId, out int? growthStageOnLoad, out int? growthStageOnRegrow, out bool isFruitTree)
- - public void BuildStartingCabins()
- - public void updateDoors()
- - public bool isTerrainFeatureAt(int x, int y)
- - public void loadLights()
- - public bool isFarmBuildingInterior()
- - public bool IsActiveLocation()
- - public virtual bool CanBeRemotedlyViewed()
- - public void LogMapPropertyError(string name, string value, string error)
- - public void LogMapPropertyError(string name, string[] value, string error, char delimiter = ' ')
- - public void LogTilePropertyError(string name, string layerId, int x, int y, string value, string error)
- - public void LogTilePropertyError(string name, string layerId, int x, int y, string[] value, string error, char delimiter = ' ')
- - public void LogTileActionError(string[] action, int x, int y, string error)
- - public void LogTileTouchActionError(string[] action, Vector2 tile, string error)
- - public override bool Equals(object obj)
- - public bool Equals(GameLocation other)

## Private Members
- - private struct DamagePlayersEventArg : NetEventArg
- - private Lazy<Season?> seasonOverride;
- - private readonly List<KeyValuePair<long, FarmAnimal>> tempAnimals = new List<KeyValuePair<long, FarmAnimal>>();
- - private int fishSplashPointTime;
- - private readonly NetEvent1Field<int, NetInt> removeTemporarySpritesWithIDEvent = new NetEvent1Field<int, NetInt>();
- - private readonly NetEvent1Field<int, NetInt> rumbleAndFadeEvent = new NetEvent1Field<int, NetInt>();
- - private readonly NetEvent1<DamagePlayersEventArg> damagePlayersEvent = new NetEvent1<DamagePlayersEventArg>();
- - private bool showedBuildableButNotAlwaysActiveWarning;
- - private const int fireIDBase = 944468;
- - private bool CheckItemPlantRules(List<PlantableRule> rules, bool isGardenPot, bool defaultAllowed, out string deniedMessage)
- - private void OnNameChanged()
- - private void OnParentLocationChanged()
- - private Season? LoadSeasonOverride()
- - private void updateFishSplashAnimation()
- - private void updateOrePanAnimation()
- - private void getGalaxySword()
- - private bool isMonsterDamageApplicable(Farmer who, Monster monster, bool horizontalBias = true)
- - private void onMonsterKilled(Farmer who, Monster monster, Rectangle monsterBox, bool killedByBomb)
- - private void addCrittersStartingAtTile(Vector2 tile, List<Critter> crittersToAdd)
- - private bool TryGetAmbientLightFromMap(out Color color, string propertyName = "AmbientLight")
- - private void adventureShop()
- - private bool checkDestroyTerrainFeature(TerrainFeature tf, Vector2 tilePositionToTry)
- - private bool checkDestroyItem(Object o, Vector2 tilePositionToTry, bool showDestroyedObject)
- - private void startSleep()
- - private void doSleep()
- - private void houseUpgradeOffer()
- - private void communityUpgradeOffer()
- - private void communityUpgradeAccept()
- - private void houseUpgradeAccept()
- - private bool isTileUpperWaterBorder(int index)
- - private void rumbleAndFade(int milliseconds)
- - private void performRumbleAndFade(int milliseconds)
- - private void damagePlayers(Rectangle area, int damage, bool isBomb = false)
- - private void performDamagePlayers(DamagePlayersEventArg arg)
- - private string HandleTreasureTileProperty(int xLocation, int yLocation, bool detectOnly)
- - private void clearArea(int startingX, int startingY, int width, int height)
- - private void changeMapProperties(string propertyName, string toAdd)

## Protected Members
- - protected static Dictionary<string, Action<GameLocation, string[], Farmer, Vector2>> registeredTouchActions = new Dictionary<string, Action<GameLocation, string[], Farmer, Vector2>>();
- - protected static Dictionary<string, Func<GameLocation, string[], Farmer, Point, bool>> registeredTileActions = new Dictionary<string, Func<GameLocation, string[], Farmer, Point, bool>>();
- - protected string loadedMapPath;
- - protected bool _mapSeatsDirty;
- - protected HashSet<string> _appliedMapOverrides;
- - protected string _displayName;
- - protected readonly NetFloat lightLevel = new NetFloat(0f);
- - protected List<Vector2> _startingCabinLocations = new List<Vector2>();
- - protected bool _madeMapModifications;
- - protected readonly NetMutexQueue<Guid> furnitureToRemove = new NetMutexQueue<Guid>();
- - protected bool _mapPathDirty = true;
- - protected LocalizedContentManager _structureMapLoader;
- - protected bool ignoreWarps;
- - protected HashSet<Vector2> _visitedCollisionTiles = new HashSet<Vector2>();
- - protected bool _looserBuildRestrictions;
- - protected Rectangle? _buildableTileRect;
- - protected Color indoorLightingColor = new Color(100, 120, 30);
- - protected Color indoorLightingNightColor = new Color(150, 150, 30);
- - protected static List<KeyValuePair<string, string>> _PagedResponses = new List<KeyValuePair<string, string>>();
- - protected static int _PagedResponsePage = 0;
- - protected static int _PagedResponseItemsPerPage;
- - protected static string _PagedResponsePrompt;
- - protected static Action<string> _OnPagedResponse;
- - protected string _constructLocationBuilderName;
- - protected List<Farmer> _currentLocationFarmersForDisambiguating = new List<Farmer>();
- - protected virtual void initNetFields()
- - protected virtual void OnObjectAdded(Vector2 tile, Object obj)
- - protected virtual LocalizedContentManager getMapLoader()
- - protected bool _TestCornersWorld(int top, int bottom, int left, int right, Func<int, int, bool> action)
- - protected bool _TestCornersTiles(Vector2 top_right, Vector2 top_left, Vector2 bottom_right, Vector2 bottom_left, Vector2 top_mid, Vector2 bottom_mid, Vector2? player_top_right, Vector2? player_top_left, Vector2? player_bottom_right, Vector2? player_bottom_left, Vector2? player_top_mid, Vector2? player_bottom_mid, bool bigger_than_tile, Func<Vector2, bool> action)
- - protected virtual void updateCharacters(GameTime time)
- - protected virtual void resetLocalState()
- - protected virtual void _updateAmbientLighting()
- - protected virtual void resetSharedState()
- - protected virtual void removeQueuedFurniture(Guid guid)
- - protected virtual void _CleanupPagedResponses()
- - protected virtual void _ShowPagedResponses(int page = -1)
- - protected virtual bool breakStone(string stoneId, int x, int y, Farmer who, Random r)
- - protected void drawDebris(SpriteBatch b)
- - protected virtual void drawCharacters(SpriteBatch b)
- - protected virtual void drawFarmers(SpriteBatch b)
- - protected void adjustMapLightPropertiesForLamp(int tile, int x, int y, string layer)

## Internal Members
- - internal static Item GetFishFromLocationData(string locationName, Vector2 bobberTile, int waterDepth, Farmer player, bool isTutorialCatch, bool isInherited, GameLocation location, ItemQueryContext itemQueryContext)
- - internal static bool CheckGenericFishRequirements(Item fish, Dictionary<string, string> allFishData, GameLocation location, Farmer player, SpawnFishData spawn, int waterDepth, bool usingMagicBait, bool hasCuriosityLure, bool usingTargetBait, bool isTutorialCatch)

## Other Members
- - static bool TryGetHayFrom(GameLocation location, out Object foundHay)
