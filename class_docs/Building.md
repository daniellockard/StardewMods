# Building

**Summary:** Represents a building on the farm (barn, coop, etc.).

## Public Members
- - public readonly NetGuid id = new NetGuid();
- - public Lazy<Texture2D> texture;
- - public Texture2D paintedTexture;
- - public NetString skinId = new NetString();
- - public readonly NetRef<GameLocation> indoors = new NetRef<GameLocation>();
- - public readonly NetString nonInstancedIndoorsName = new NetString();
- - public readonly NetInt tileX = new NetInt();
- - public readonly NetInt tileY = new NetInt();
- - public readonly NetInt tilesWide = new NetInt();
- - public readonly NetInt tilesHigh = new NetInt();
- - public readonly NetInt maxOccupants = new NetInt();
- - public readonly NetInt currentOccupants = new NetInt();
- - public readonly NetInt daysOfConstructionLeft = new NetInt();
- - public readonly NetInt daysUntilUpgrade = new NetInt();
- - public readonly NetString upgradeName = new NetString();
- - public readonly NetString buildingType = new NetString();
- - public NetRef<BuildingPaintColor> netBuildingPaintColor = new NetRef<BuildingPaintColor>();
- - public NetInt hayCapacity = new NetInt();
- - public NetList<Chest, NetRef<Chest>> buildingChests = new NetList<Chest, NetRef<Chest>>();
- - public NetString parentLocationName = new NetString();
- - public bool hasLoaded;
- - public readonly NetPoint humanDoor = new NetPoint();
- - public readonly NetPoint animalDoor = new NetPoint();
- - public Color color = Color.White;
- - public readonly NetBool animalDoorOpen = new NetBool();
- - public readonly NetFloat animalDoorOpenAmount = new NetFloat
- - public readonly NetBool magical = new NetBool();
- - public readonly NetBool fadeWhenPlayerIsBehind = new NetBool(value: true);
- - public readonly NetLong owner = new NetLong();
- - public float alpha = 1f;
- - public static Rectangle leftShadow = new Rectangle(656, 394, 16, 16);
- - public static Rectangle middleShadow = new Rectangle(672, 394, 16, 16);
- - public static Rectangle rightShadow = new Rectangle(688, 394, 16, 16);
- - public ModDataDictionary modData { get; } = new ModDataDictionary();
- - public ModDataDictionary modDataForSerialization
- - public bool isCabin => buildingType.Value == "Cabin";
- - public bool isMoving
- - public NetFields NetFields { get; } = new NetFields("Building");
- - public Building()
- - public Building(string type, Vector2 tile)
- - public virtual bool CanBeReskinned(bool ignoreSeparateConstructionEntries = false)
- - public bool AllowsAnimalPregnancy()
- - public virtual bool CanBePainted()
- - public BuildingSkin GetSkin()
- - public static BuildingSkin GetSkin(string skinId, BuildingData data)
- - public virtual string GetPaintDataKey()
- - public virtual string GetPaintDataKey(Dictionary<string, string> paintData)
- - public string GetMetadata(string key)
- - public GameLocation GetParentLocation()
- - public bool IsInCurrentLocation()
- - public virtual bool hasCarpenterPermissions()
- - public virtual void UpdateIndoorParent()
- - public virtual BuildingData GetData()
- - public static bool TryGetData(string buildingType, out BuildingData data)
- - public virtual BuildingData ReloadBuildingData(bool forUpgrade = false, bool forConstruction = false)
- - public virtual void LoadFromBuildingData(BuildingData data, bool forUpgrade = false, bool forConstruction = false)
- - public static Building CreateInstanceFromId(string typeId, Vector2 tile)
- - public virtual void InitializeIndoor(BuildingData data, bool forConstruction, bool forUpgrade)
- - public BuildingItemConversion GetItemConversionForItem(Item item, Chest chest)
- - public bool IsValidObjectForChest(Item item, Chest chest)
- - public bool PerformBuildingChestAction(string name, Farmer who)
- - public BuildingChest GetBuildingChestData(string name)
- - public static BuildingChest GetBuildingChestData(BuildingData data, string name)
- - public Chest GetBuildingChest(string name)
- - public virtual string textureName()
- - public virtual void resetTexture()
- - public int getTileSheetIndexForStructurePlacementTile(int x, int y)
- - public virtual void performTenMinuteAction(int timeElapsed)
- - public virtual void resetLocalState()
- - public virtual bool CanLeftClick(int x, int y)
- - public virtual bool leftClicked()
- - public virtual void ToggleAnimalDoor(Farmer who)
- - public virtual bool OnUseHumanDoor(Farmer who)
- - public virtual bool doAction(Vector2 tileLocation, Farmer who)
- - public static bool TryPerformObeliskWarp(string buildingType, Farmer who)
- - public static void PerformObeliskWarp(string destination, int warp_x, int warp_y, bool force_dismount, Farmer who)
- - public virtual bool isActionableTile(int xTile, int yTile, Farmer who)
- - public virtual void performActionOnBuildingPlacement()
- - public virtual void performActionOnConstruction(GameLocation location, Farmer who)
- - public virtual void performActionOnDemolition(GameLocation location)
- - public virtual bool ForEachItemExcludingInterior(Func<Item, bool> action)
- - public virtual bool ForEachItemContextExcludingInterior(ForEachItemDelegate handler, GetForEachItemPathDelegate getParentPath)
- - public virtual void BeforeDemolish()
- - public virtual void performActionOnUpgrade(GameLocation location)
- - public virtual string isThereAnythingtoPreventConstruction(GameLocation location, Vector2 tile_location)
- - public virtual bool performActiveObjectDropInAction(Farmer who, bool probe)
- - public virtual void performToolAction(Tool t, int tileX, int tileY)
- - public virtual void updateWhenFarmNotCurrentLocation(GameTime time)
- - public virtual void Update(GameTime time)
- - public virtual void UpdateTransparency()
- - public virtual void showUpgradeAnimation(GameLocation location)
- - public virtual Vector2 getUpgradeSignLocation()
- - public virtual void showDestroyedAnimation(GameLocation location)
- - public void FinishConstruction(bool onGameStart = false)
- - public virtual void dayUpdate(int dayOfMonth)
- - public virtual void CheckItemConversionRule(BuildingItemConversion conversion, ItemQueryContext itemQueryContext)
- - public virtual void OnUpgraded()
- - public virtual Rectangle getSourceRect()
- - public virtual Rectangle ApplySourceRectOffsets(Rectangle source)
- - public virtual Rectangle? getSourceRectForMenu()
- - public virtual void updateInteriorWarps(GameLocation interior = null)
- - public bool HasIndoors()
- - public bool HasIndoorsName(string name)
- - public string GetIndoorsName()
- - public IndoorsType GetIndoorsType()
- - public GameLocation GetIndoors()
- - public virtual Point getPointForHumanDoor()
- - public virtual Rectangle getRectForHumanDoor()
- - public Rectangle getRectForAnimalDoor()
- - public virtual Rectangle getRectForAnimalDoor(BuildingData data)
- - public virtual void load()
- - public IEnumerable<BuildingPlacementTile> GetAdditionalPlacementTiles()
- - public bool isUnderConstruction(bool ignoreUpgrades = true)
- - public bool occupiesTile(Vector2 tile, bool applyTilePropertyRadius = false)
- - public virtual bool occupiesTile(int x, int y, bool applyTilePropertyRadius = false)
- - public virtual bool isTilePassable(Vector2 tile)
- - public virtual bool isTileOccupiedForPlacement(Vector2 tile, Object to_place)
- - public virtual Color? GetWaterColor(Vector2 tile)
- - public virtual bool isTileFishable(Vector2 tile)
- - public virtual bool CanRefillWateringCan()
- - public Rectangle GetBoundingBox()
- - public virtual bool intersects(Rectangle boundingBox)
- - public virtual void drawInMenu(SpriteBatch b, int x, int y)
- - public virtual void drawBackground(SpriteBatch b)
- - public virtual void draw(SpriteBatch b)
- - public bool ShouldDrawShadow(BuildingData data)
- - public virtual void drawShadow(SpriteBatch b, int localX = -1, int localY = -1)
- - public virtual void OnStartMove()
- - public virtual void OnEndMove()
- - public Point getPorchStandingSpot()
- - public virtual bool doesTileHaveProperty(int tile_x, int tile_y, string property_name, string layer_name, ref string property_value)
- - public Point getMailboxPosition()
- - public virtual int GetAdditionalTilePropertyRadius()
- - public void removeOverlappingBushes(GameLocation location)
- - public virtual void drawInConstruction(SpriteBatch b)

## Private Members
- - private static void obeliskWarpForReal(string destination, int warp_x, int warp_y, Farmer who)

## Protected Members
- - protected Dictionary<string, string> buildingMetadata = new Dictionary<string, string>();
- - protected int lastHouseUpgradeLevel = -1;
- - protected bool? hasChimney;
- - protected Vector2 chimneyPosition = Vector2.Zero;
- - protected int chimneyTimer = 500;
- - protected readonly NetInt newConstructionTimer = new NetInt();
- - protected bool _isMoving;
- - protected virtual void initNetFields()
- - protected virtual GameLocation createIndoors(BuildingData data, string nameOfIndoorsWithoutUnique)

## Internal Members
- *(None)*

## Other Members
- *(None)*
